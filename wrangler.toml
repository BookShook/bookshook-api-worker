name = "bookshook-api"
main = "src/index.ts"
compatibility_date = "2025-12-01"

workers_dev = true

# Put back same-domain API routing
routes = [
  { pattern = "bookshook.com/api/*", zone_name = "bookshook.com" },
  { pattern = "www.bookshook.com/api/*", zone_name = "bookshook.com" }
]

[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "ec6ce0e6f8e44f0a8235f4fab39c3eda"

[vars]
SITE_ORIGIN = "https://bookshook.com"
